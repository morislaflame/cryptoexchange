import { Button } from "@/components/ui/button";
import { useNavigate } from "react-router-dom";
import { MAIN_ROUTE } from "@/utils/consts";
import { useState } from "react";

interface FaqItem {
    question: string;
    answer: string;
}

const FaqPage = () => {
    const navigate = useNavigate();
    const [openIndex, setOpenIndex] = useState<number | null>(null);

    const faqData: FaqItem[] = [
        {
            question: "Как совершить обмен?",
            answer: "Для совершения обмена необходимо: 1) Выбрать направление обмена (валюту отдаете и валюту получаете); 2) Указать сумму обмена; 3) Ввести реквизиты для получения; 4) Проверить все данные и подтвердить заявку; 5) Дождаться связи с вами от поддержки для прохождения AML проверки; 6) Оплатить заявку по указанным реквизитам; (В случае обмена криптовалюты на фиатную валюту, вам необходимо будет пройти AML проверку)"
        },
        {
            question: "Сколько времени занимает обмен?",
            answer: "Обычно обмен занимает от 5 до 30 минут после поступления средств. В редких случаях, при высокой загрузке сети или необходимости дополнительной верификации, процесс может занять до 24 часов. Для криптовалют время может зависеть от загруженности блокчейна и количества подтверждений."
        },
        {
            question: "Какие комиссии взимаются?",
            answer: "Комиссия зависит от направления обмена и отображается при создании заявки. В комиссию уже включены все сетевые сборы и комиссии платежных систем. Итоговая сумма к получению отображается перед подтверждением заявки."
        },
        {
            question: "Есть ли минимальная и максимальная сумма обмена?",
            answer: "Да, для каждого направления обмена установлены минимальные и максимальные лимиты. Они отображаются при выборе направления обмена. Лимиты могут меняться в зависимости от текущей ликвидности и других факторов."
        },
        {
            question: "Что делать, если я указал неверные реквизиты?",
            answer: "Если вы указали неверные реквизиты, немедленно свяжитесь со службой поддержки до завершения обмена. Если средства уже отправлены на указанные реквизиты, вернуть их будет невозможно. В некоторых случаях возможно изменение реквизитов до начала обработки заявки."
        },
        {
            question: "Нужна ли регистрация для обмена?",
            answer: "Для большинства обменов регистрация не требуется. Однако для крупных сумм или при подозрительной активности может потребоваться верификация личности (KYC). Регистрация дает дополнительные преимущества: сниженные комиссии, повышенные лимиты, история операций."
        },
        {
            question: "Безопасно ли пользоваться сервисом?",
            answer: "Да, мы используем современные технологии шифрования данных, SSL-сертификаты, двухфакторную аутентификацию. Все средства хранятся на холодных кошельках. Мы соблюдаем политику AML/KYC и сотрудничаем с регуляторами для обеспечения безопасности пользователей."
        },
        {
            question: "Что такое KYC и когда он требуется?",
            answer: "KYC (Know Your Customer) - это процедура верификации личности. Она может потребоваться при обмене на крупные суммы (обычно от 10,000 USD эквивалента), при подозрительной активности, множественных обменах или по требованию регуляторов. Для прохождения нужен документ, удостоверяющий личность."
        },
        {
            question: "Какие криптовалюты поддерживаются?",
            answer: "Мы поддерживаем все популярные криптовалюты: Bitcoin (BTC), Ethereum (ETH), USDT (TRC20, ERC20, BEP20), USDC, BNB, Litecoin, Dogecoin, Tron, Ripple, Monero и другие. Полный список доступных валют можно посмотреть на главной странице при выборе направления обмена."
        },
        {
            question: "Можно ли отменить обмен?",
            answer: "Отменить обмен можно только до момента отправки средств с вашей стороны. После того, как вы отправили средства, обмен считается начатым и отмене не подлежит."
        },
        {
            question: "Что делать, если средства не пришли?",
            answer: "Если средства не пришли в течение заявленного времени: 1) Проверьте статус заявки в системе; 2) Убедитесь, что вы отправили точную сумму на правильные реквизиты; 3) Свяжитесь со службой поддержки с номером заявки; 4) При необходимости предоставьте подтверждение платежа. Обращение нужно оставить не позднее 30 дней с момента создания заявки."
        },
        {
            question: "Как проверить курс обмена?",
            answer: "Актуальный курс обмена отображается на главной странице для каждого направления. Курс фиксируется на момент создания заявки и действует в течение 15-30 минут (время указано в заявке). После истечения времени курс может измениться."
        },
        {
            question: "Какие платежные системы поддерживаются?",
            answer: "Мы работаем с популярными платежными системами: карты российских банков (Сбербанк, Тинькофф, ВТБ, Альфа-Банк и др.), электронные кошельки (QIWI, ЮMoney, WebMoney, Perfect Money, Payeer), международные системы (PayPal, Skrill, Neteller, ADVCash) и криптовалюты."
        },
        {
            question: "Работаете ли вы с картами других стран?",
            answer: "Да, мы принимаем карты международных платежных систем Visa и Mastercard, выпущенные в разных странах. Однако доступность некоторых направлений может быть ограничена в зависимости от страны. Рекомендуем уточнить в поддержке перед созданием заявки."
        },
        {
            question: "Что делать при ошибке сети криптовалюты?",
            answer: "Если вы отправили криптовалюту в неправильной сети (например, USDT ERC20 вместо TRC20), обратитесь в поддержку как можно скорее. В некоторых случаях возможно восстановление средств, но это требует времени и может взиматься дополнительная комиссия. Всегда внимательно проверяйте сеть перед отправкой."
        },
        {
            question: "Есть ли программа лояльности?",
            answer: "Да, для постоянных клиентов действует программа лояльности со сниженными комиссиями. Чем больше обменов вы совершаете, тем выше ваш статус и меньше комиссия. Также периодически проводятся акции и специальные предложения для зарегистрированных пользователей."
        },
        {
            question: "Как связаться с поддержкой?",
            answer: "Служба поддержки работает 24/7. Вы можете связаться с нами через: онлайн-чат на сайте, email, Telegram, или форму обратной связи. Среднее время ответа - от 5 до 30 минут. При обращении укажите номер заявки для более быстрого решения вопроса."
        },
        {
            question: "Какие документы могут потребоваться для верификации?",
            answer: "Для верификации могут потребоваться: паспорт или ID-карта, селфи с документом и запиской, подтверждение адреса (коммунальный счет не старше 3 месяцев), подтверждение источника средств (для крупных сумм). Все документы проверяются в течение 24-72 часов."
        },
        {
            question: "Защищены ли мои персональные данные?",
            answer: "Да, мы строго соблюдаем политику конфиденциальности. Все данные шифруются и хранятся на защищенных серверах. Доступ к данным имеет только ограниченный круг сотрудников. Мы не передаем данные третьим лицам, за исключением случаев, предусмотренных законодательством."
        },
        {
            question: "Что такое AML проверка?",
            answer: "AML (Anti-Money Laundering) - это проверка транзакций на предмет отмывания денег. Мы используем технологию KYT для анализа криптовалютных адресов."
        }
    ];

    const toggleFaq = (index: number) => {
        setOpenIndex(openIndex === index ? null : index);
    };

    return (
        <div className="w-full min-h-screen text-gray-100 p-4">
            <div className="max-w-4xl mx-auto">
                <Button 
                    onClick={() => navigate(MAIN_ROUTE)}
                    variant="outline"
                    className="mb-4"
                >
                    ← Вернуться на главную
                </Button>

                <div className="bg-emerald-950/50 backdrop-blur-sm rounded-lg border border-default-800 p-8">
                    <h1 className="text-3xl font-bold mb-4 text-emerald-400">Часто задаваемые вопросы (FAQ)</h1>
                    <p className="text-gray-400 mb-8">Ответы на самые популярные вопросы о работе нашего сервиса обмена</p>

                    <div className="space-y-4">
                        {faqData.map((item, index) => (
                            <div 
                                key={index} 
                                className="border border-default-800 rounded-lg overflow-hidden bg-emerald-950/30 hover:border-emerald-800 transition-colors"
                            >
                                <button
                                    onClick={() => toggleFaq(index)}
                                    className="w-full text-left p-4 flex justify-between items-center gap-4 hover:bg-emerald-800/30 transition-colors"
                                >
                                    <span className="font-semibold text-gray-200">{item.question}</span>
                                    <svg
                                        className={`w-5 h-5 text-emerald-400 transition-transform flex-shrink-0 ${
                                            openIndex === index ? 'rotate-180' : ''
                                        }`}
                                        fill="none"
                                        stroke="currentColor"
                                        viewBox="0 0 24 24"
                                    >
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                    </svg>
                                </button>
                                {openIndex === index && (
                                    <div className="px-4 pb-4 text-gray-400 border-t border-default-800 pt-4">
                                        {item.answer}
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>

                    <div className="mt-8 p-6 bg-emerald-900/20 border border-emerald-800 rounded-lg">
                        <h3 className="text-lg font-semibold mb-2 text-emerald-300">Не нашли ответ на свой вопрос?</h3>
                        <p className="text-gray-400 mb-4">
                            Если вы не нашли ответ на свой вопрос в разделе FAQ, пожалуйста, свяжитесь с нашей службой поддержки. 
                            Мы работаем 24/7 и всегда готовы помочь вам.
                        </p>
                        <div className="flex flex-wrap gap-3">
                            <Button variant="outline" className="border-emerald-600 text-emerald-400 hover:bg-emerald-600/10">
                                Онлайн-чат
                            </Button>
                            <Button variant="outline" className="border-emerald-600 text-emerald-400 hover:bg-emerald-600/10">
                                Telegram
                            </Button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    );
};

export default FaqPage;

